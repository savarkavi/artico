(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[107],{7050:function(e,s,t){Promise.resolve().then(t.bind(t,8430))},8430:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var a=t(7437),l=t(2265),n=t(9150),r=t(9584),o=t(994),c=t(2601);let i={apiKey:c.env.FIREBASE,authDomain:"blog-app-453cf.firebaseapp.com",projectId:"blog-app-453cf",storageBucket:"blog-app-453cf.appspot.com",messagingSenderId:"1097599778474",appId:"1:1097599778474:web:16dc19b580fa61c7929ad3"},d=(0,o.ZF)(i);var u=t(4033),p=()=>{let e=(0,u.useRouter)(),[s,t]=(0,l.useState)(null),[o,c]=(0,l.useState)(!1),[i,p]=(0,l.useState)(""),[x,g]=(0,l.useState)(""),[h,m]=(0,l.useState)(""),[f,b]=(0,l.useState)("coding");(0,l.useEffect)(()=>{let e=(0,r.cF)(d);s&&(()=>{let t=new Date().getTime()+s.name,a=(0,r.iH)(e,t),l=(0,r.B0)(a,s);l.on("state_changed",e=>{let s=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+s+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}},e=>{},()=>{(0,r.Jt)(l.snapshot.ref).then(e=>{g(e)})})})()},[s]);let j=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),v=async()=>{let s=await fetch("/api/posts",{method:"POST",body:JSON.stringify({title:h,desc:i,img:x,slug:j(h),catSlug:f})});if(200===s.status){let t=await s.json();e.push("/post/".concat(null==t?void 0:t.slug))}};return(0,a.jsxs)("div",{className:"flex flex-row-reverse justify-between items-start min-h-screen",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("select",{className:"w-[100px] py-2 mt-5 px-3 text-black rounded-lg",onChange:e=>b(e.target.value),children:[(0,a.jsx)("option",{value:"coding",children:"coding"}),(0,a.jsx)("option",{value:"travel",children:"travel"}),(0,a.jsx)("option",{value:"fashion",children:"fashion"}),(0,a.jsx)("option",{value:"style",children:"style"}),(0,a.jsx)("option",{value:"culture",children:"culture"}),(0,a.jsx)("option",{value:"food",children:"food"})]}),(0,a.jsx)("button",{className:"bg-green-500 px-3 py-2 rounded-lg mt-5",onClick:v,children:"Publish"})]}),(0,a.jsx)("div",{className:"mt-20 max-w-[1200px]",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("textarea",{type:"text",placeholder:"Title",className:"bg-slate-950 px-12 py-2 text-4xl outline-none w-[1200px]",onChange:e=>m(e.target.value)}),(0,a.jsxs)("div",{className:"flex gap-16 items-center",children:[(0,a.jsx)("button",{className:"",onClick:()=>{c(e=>!e)},children:(0,a.jsx)(n.dEn,{className:"text-4xl"})}),o&&(0,a.jsxs)("div",{className:"flex gap-3 text-4xl text-green-500 ",children:[(0,a.jsx)("input",{type:"file",id:"image",onChange:e=>t(e.target.files[0]),className:"hidden"}),(0,a.jsx)("button",{className:"",children:(0,a.jsx)("label",{htmlFor:"image",className:"cursor-pointer",children:(0,a.jsx)(n.BYk,{className:"border border-green-500 rounded-full p-2"})})}),(0,a.jsx)("button",{children:(0,a.jsx)(n.aBR,{className:"border border-green-500 rounded-full p-2"})}),(0,a.jsx)("button",{children:(0,a.jsx)(n.KGr,{className:"border border-green-500 rounded-full p-2"})})]})]}),(0,a.jsx)("textarea",{value:i,onChange:e=>p(e.target.value),placeholder:"Write your article...",className:"bg-slate-950 h-[1000px] outline-none"})]})})]})}}},function(e){e.O(0,[712,488,971,596,744],function(){return e(e.s=7050)}),_N_E=e.O()}]);